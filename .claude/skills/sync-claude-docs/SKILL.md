---
name: sync-claude-docs
description: CLAUDE.mdにclaude-code-docs配下のドキュメント概要を同期する。ドキュメント概要の記載漏れや構成の変更をチェックし、必要に応じて追記や修正を行う際に使用。
---

# Claude Code ドキュメント同期スキル

このスキルは、claude-code-docs 配下の公式ドキュメントと CLAUDE.md に記載されている概要の整合性をチェックし、記載漏れがあれば適切なフォーマットで追記します。

## 実行手順

### 1. ファイルリストの取得

Glob ツールを使用して、claude-code-docs 配下のすべてのマークダウンファイルを取得します：

```
Glob(pattern: "claude-code-docs/*.md")
```

### 2. CLAUDE.md の内容確認

Read ツールで CLAUDE.md を読み込み、見出し 2（`##`）から記載済みのドキュメントリストを抽出します。

見出し 2 は以下のフォーマットで記載されています：

```
## claude-code-docs/ドキュメント名.md
```

### 3. 差分チェック

- 手順 1 で取得したファイルリストと、手順 2 で抽出した記載済みドキュメントリストを比較
- 記載漏れがあるドキュメント、または削除、フォルダ移動されたドキュメントを特定

### 4. 結果の報告と修正

#### 記載漏れ、修正がない場合

記載漏れがない旨をユーザーに報告し、CLAUDE.md は修正しない。

#### 記載漏れ、修正がある場合

以下の手順で CLAUDE.md を更新：

1. **記載漏れ、修正対象ドキュメントの読み込み**

   - Read ツールで各記載漏れドキュメントを読み込む
   - ドキュメントの内容から簡潔な概要（1〜2 文）を作成

2. **CLAUDE.md への追記**
   - Edit ツールを使用して、記載漏れドキュメントの概要を追記
   - **アルファベット順を維持すること**（ファイル名でソート）
   - 以下のフォーマットに従うこと：

```markdown
## claude-code-docs/ドキュメント名.md

概要を簡潔に書く。内容の要点や、何が説明されているかを 1〜2 文で記載する。
```

3. **削除されたドキュメントの処理**
   - claude-code-docs 配下に存在しないが CLAUDE.md に記載されているドキュメントがあれば、該当セクションを削除

## フォーマット例

良い例：

```markdown
## claude-code-docs/slack.md

Slack ワークスペースから Claude Code を使用する方法。Slack での Claude メンション、自動ルーティング、GitHub 統合、リポジトリ選択、セッション管理を説明。
```

## 注意事項

- CLAUDE.md の構造（見出し 1、導入文など）は変更しない
- 既存の概要の内容は変更しない（記載漏れの追記のみ）
- 追記する際は必ずアルファベット順を維持する
- 概要は簡潔に（1〜2 文、最大 3 文まで）
- ドキュメントの主要な内容やキーワードを含める
